YUI.add("upstage-gesture",function(c){var a=c.Upstage;function b(d){b.superclass.constructor.apply(this,arguments);}b.NS="gesture";b.NAME="upstage-gesture";b.ATTRS={gestureEventHandle:{value:null},swipeDistance:{value:10},tapHoldThreshold:{value:500},forceGestureThreshold:{value:300}};c.extend(b,c.Plugin.Base,{initializer:function(d){this.set("gestureEventHandle",c.one("body").on("gesturemovestart",c.bind("gesture",this)));this._publishEvents();},destructor:function(){c.one("body").detach(this.get("gestureEventHandle"));this.set("gestureEventHandle",null);},_publishEvents:function(){var f=this,e=f.get("host");function d(g,h,i){e.publish(g,{emitFacade:true});f.onHostEvent(g,c.bind("fire",e,h,i));}d("ui:tap","warp",1);d("ui:heldtap","navigate",1);d("ui:swipeleft","warp",1);d("ui:swiperight","warp",-1);},getSelection:function(){var d="",g,f=c.config.win,e=c.config.doc;if(f.getSelection){d=f.getSelection();}else{if(e.selection){d=e.selection.createRange();}}g=d;if(d.text){g=d.text;}return g.toString();},gestureEnd:function(i,j){var l=this.get("host"),h=i.getData("gestureX"),d=j.pageX,f=this.get("swipeDistance"),g=i.getData("gestureDate").getTime(),k=(new Date).getTime(),e=k-g;if(this.getSelection()&&(e>this.get("forceGestureThreshold"))){return;}if((h-d)>f){l.fire("ui:swipeleft",i);}else{if((d-h)>f){l.fire("ui:swiperight",i);}else{if(e>this.get("tapHoldThreshold")){l.fire("ui:heldtap",e);}else{l.fire("ui:tap",e);}}}},gesture:function(d){switch(d.target.get("tagName").toUpperCase()){case"A":case"INPUT":case"BUTTON":case"VIDEO":case"OBJECT":return;}var e=d.currentTarget;if(d._event&&d._event.type==="touchstart"){d.preventDefault();}e.setData("gestureX",d.pageX);e.setData("gestureDate",new Date);e.once("gesturemoveend",c.bind("gestureEnd",this,e));}});c.Plugin.UpstageGesture=b;},"@VERSION@",{requires:["upstage-slideshow","event-move"]});